import nmap
import datetime

# Initialize the scanner
scanner = nmap.PortScanner()

def scan_target(target_ip):
    print(f"Starting scan on {target_ip}")
    scan_result = scanner.scan(target_ip, '1-1024')  # Scans the first 1024 ports
    return scan_result

def parse_results(scan_result):
    """Parse the Nmap scan results and display relevant information."""
    print("Scan Summary:")
    for host in scan_result['scan']:
        print(f"Host: {host} ({scan_result['scan'][host]['status']['state']})")
        if 'tcp' in scan_result['scan'][host]:
            for port in scan_result['scan'][host]['tcp']:
                print(f"Port: {port}, State: {scan_result['scan'][host]['tcp'][port]['state']}")
                print(f"Service: {scan_result['scan'][host]['tcp'][port]['name']}")

def main():
    target = input("Enter the target IP address: ")
    result = scan_target(target)
    parse_results(result)

if __name__ == "__main__":
    main()
